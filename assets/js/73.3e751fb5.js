(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{357:function(t,s,a){"use strict";a.r(s);var c=a(28),r=Object(c.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"tiscript中-构造器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tiscript中-构造器"}},[t._v("#")]),t._v(" TIScript中::构造器")]),t._v(" "),a("div",{staticClass:"post",attrs:{id:"post-41691"}},[a("h1",{staticClass:"storytitle"},[t._v("TIScript中的“::”构造器的含义是什么?")])]),t._v(" "),a("div",{staticClass:"storycontent"},[a("p",[t._v("在一个邮件中曾提到这个问题…")]),t._v(" "),a("p",[t._v("它是"),a("a",{attrs:{href:"http://www.codeproject.com/Articles/33662/TIScript-language-a-gentle-extension-of-JavaScript"}},[t._v("TIScript中声明匿名函数的格式")]),t._v("֮之一，称为单语句lambda(希腊字母的第11个字)函数:")]),t._v(" "),a("pre",[a("code",[t._v("':' [参数-列表] ':' <语句>;")])]),t._v(" "),a("p",[t._v("比如说，我们有这样的JavaScript代码: ")]),t._v(" "),a("pre",{staticClass:"brush: js;"},[a("code",[t._v("var counter = 0;\nvar inc = function() { counter++; }")])]),t._v(" "),a("p",[t._v("当我们每次调用inc(), 计数器counter就会加1。")]),t._v(" "),a("p",[t._v("在TIScript中除了这种写法，可有一种声明匿名函数的轻量级语法:")]),t._v(" "),a("pre",{staticClass:"brush: js;"},[a("code",[t._v("var counter = 0;\nvar inc = :: counter++; ")])]),t._v(" "),a("p",[t._v("其中，第一个“:”等同于JS声明中的“function(”，而第二个“:”等同于JS声明中的“)”。")]),t._v(" "),a("p",[t._v("当然，你也可以在TIScript中使用JS的标准方式来声明匿名函数, 我只是认为有时更短的格式使用更方便。像这里:")]),t._v(" "),a("pre",{staticClass:"brush: js;"},[a("code",[t._v("var accounts = [...]; // 账户列表\naccounts.sort( :a,b: a.balance - b.balance );")])]),t._v(" "),a("p",[t._v("声明的这种写法是不是比下面这种写法更简洁:")]),t._v(" "),a("pre",{staticClass:"brush: js;"},[a("code",[t._v("accounts.sort( function(a,b){ return a.balance - b.balance });")])]),t._v(" "),a("p",[t._v("Ruby也有一种类似的轻量级声明方式:")]),t._v(" "),a("pre",[a("code",[t._v('[1,2,3,4,5].each {|i| print "#{i} "}')])]),t._v(" "),a("p",[t._v("对应的JS如下:")]),t._v(" "),a("pre",{staticClass:"brush: js;"},[a("code",[t._v('[1,2,3,4,5].each(function(i){ println("#",i);});')])])])])}),[],!1,null,null,null);s.default=r.exports}}]);